{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handlerFilterEnter","value","onChange","Persons","persons","removePerson","map","person","key","id","name","number","onClick","PersonForm","addPerson","newName","handleNameEnter","newNumber","handleNumberEnter","onSubmit","type","Notification","message","result","style","background","fontSize","padding","borderStyle","boderRadius","marginBottom","className","baseUrl","axios","get","then","response","data","newPerson","post","delete","updatedPerson","console","log","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","success","setSuccess","useEffect","personService","personsToShow","toLowerCase","includes","event","target","preventDefault","matchedPerson","find","undefined","window","confirm","respondedPerson","setTimeout","catch","error","concat","deleteUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d7c57c3e.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, handlerFilterEnter }) => {\n  return (\n    <div>\n      filter shown with <input value={filter} onChange={handlerFilterEnter} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Persons = ({ persons, removePerson }) => (\n  <ul>\n    {persons.map((person) => (\n      <li key={person.id}>\n        {person.name} {person.number}\n        <button onClick={removePerson(person.id)}>delete</button>\n      </li>\n    ))}\n  </ul>\n);\n\nexport default Persons;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameEnter,\n  newNumber,\n  handleNumberEnter,\n}) => (\n  <form onSubmit={addPerson}>\n    <div>\n      name: <input value={newName} onChange={handleNameEnter} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleNumberEnter} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Notification = ({ message, result }) => {\n  if (message === null) {\n    return null;\n  }\n  const notiStyles = {\n    background: \"lightgrey\",\n    fontSize: \"20px\",\n    padding: \"10px\",\n    borderStyle: \"solid\",\n    boderRadius: \"5px\",\n    marginBottom: \"10px\",\n  };\n\n  return (\n    <div style={notiStyles} className={`noti-${result ? \"success\" : \"error\"}`}>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst addPerson = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst removePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst updatePerson = (updatedPerson) => {\n  console.log(`${baseUrl}/${updatedPerson.id}`);\n  const request = axios.put(`${baseUrl}/${updatedPerson.id}`, updatedPerson);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, addPerson, removePerson, updatePerson };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n  const [success, setSuccess] = useState(true);\n\n  useEffect(() => {\n    personService.getAll().then((persons) => setPersons(persons));\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const matchedPerson = persons.find((person) => person.name === newName);\n    if (matchedPerson !== undefined) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const newPerson = {\n          ...matchedPerson,\n          number: newNumber,\n        };\n        personService\n          .updatePerson(newPerson)\n          .then((respondedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.name === newName ? respondedPerson : person\n              )\n            );\n            setSuccess(true);\n            setNotification(`Updated ${newName}`);\n            setTimeout(() => {\n              setNotification(null);\n            }, 5000);\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n          .catch((error) => {\n            setSuccess(false);\n            setNotification(`${newName} was already removed from the server`);\n            setTimeout(() => {\n              setNotification(null);\n            }, 5000);\n            setPersons(persons.filter((person) => person.name !== newName));\n          });\n        return;\n      }\n    }\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    personService.addPerson(newPerson).then((respondedPerson) => {\n      setPersons(persons.concat(respondedPerson));\n      setSuccess(true);\n      setNotification(`Added ${newName}`);\n      setTimeout(() => {\n        setNotification(null);\n      }, 5000);\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  const removePerson = (id) => {\n    const deleteUser = persons.find((person) => person.id === id);\n    return () => {\n      if (window.confirm(`Delete ${deleteUser.name}`)) {\n        personService.removePerson(id);\n        setPersons(persons.filter((person) => person.id !== id));\n        setSuccess(true);\n        setNotification(`Removed ${deleteUser.name}`);\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      }\n    };\n  };\n\n  const handleNameEnter = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberEnter = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handlerFilterEnter = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} result={success} />\n      <Filter filter={filter} handlerFilterEnter={handlerFilterEnter} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameEnter={handleNameEnter}\n        newNumber={newNumber}\n        handleNumberEnter={handleNumberEnter}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} removePerson={removePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}